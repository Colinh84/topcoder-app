.profile-subtrack-container(ng-cloak, ng-show="profileVm.status.stats === 'ready'")
  .content 
    .nav
      a(ui-sref="profile.about({userHandle: profileVm.profile.handle})")
        .handle
          img.profile-circle(fallback-src="/images/avatarPlaceholder.png", ng-src="{{profileVm.profile.photoURL}}")
          span(style="color: {{profileVm.profile.maxRating.rating | ratingColor}};") {{profileVm.profile.handle}}

      .right
        i.fa.fa-th(ng-click="vm.showNav()")

    .tabs
      a.left(id="statistics-tab", ng-click="vm.viewing = 'stats'",
        ng-class="vm.viewing == 'stats' ? 'selected' : ''"
      ) Statistics

      a.right(id="challenges-tab", ng-click="vm.viewing = 'challenges'",
        ng-class="vm.viewing == 'challenges' ? 'selected' : ''"
      ) Challenges
      
    //- ul.horizontal-stats(id="subtrack-stats")
      li.stat(ng-if="vm.typeStats.rank.rating")
        .value.rating(style="color: {{vm.typeStats.rank.rating | ratingColor}}") {{vm.typeStats.rank.rating | empty}}
          span.square(ng-if="vm.typeStats.rank.rating", style="background-color: {{vm.typeStats.rank.rating | ratingColor}}")
        .name RATING

      li.stat(ng-if="!vm.typeStats.rank.rating && !vm.nonRated")
        .value -
        .name RATING

      li.stat(ng-hide="vm.nonRated")
        .value {{vm.typeStats.rank.overallRank | empty}}
        .name RANK

      li.stat(ng-hide="vm.nonRated")
        .value {{vm.typeStats.rank.overallPercentile / 100 | percentage | empty}}
        .name PERCENTILE

      li.stat
        .value {{vm.typeStats.submissions.submissions | empty}}
        .name CHALLENGES

      li.stat
        .value {{vm.typeStats.wins | empty}}
        .name WINS

      li.stat(ng-hide="vm.nonRated")
        .value {{vm.typeStats.rank.reliability | percentage | empty}}
        .name RELIABILITY

    .subtrack-stats
      responsive-carousel(data="vm.subTrackStats", handle="{{vm.handle}}")
        .carousel-elem
          .flex-wrapper
            p.title(ng-hide="true") {{item.subTrack | underscoreStrip}}
            
            p.value(ng-show="item.label === 'rating'", style="color: {{item.val |  ratingColor}}") {{item.val | empty}}
              span(style="background-color: {{item.val | ratingColor}}")

            p.value(ng-hide="item.label === 'rating'") {{item.val | empty}}

            p.label {{item.label}}

    include ./develop/develop.jade
    include ./design/design.jade
    include ./data/data.jade
    include ./copilot/copilot.jade
